<h3 class="text-center m-0 pb-2 px-3">
  Carga del periodo académico {{ period.name }}
</h3>
<ng-container *ngIf="dataSourceSections.length; else NoCharge">
  <div class="d-flex justify-content-end content-info align-items-center">
    <mat-card>
      <mat-card-header class="p-3">
        <mat-card-title-group>
          <mat-card-subtitle>
            Asignaturas: <strong>{{subjectCounter}}</strong>
          </mat-card-subtitle>
        </mat-card-title-group>
      </mat-card-header>
    </mat-card>
    <mat-card>
      <mat-card-header class="p-3">
        <mat-card-title-group>
          <mat-card-subtitle>
            Horas semanales: <strong>{{hours}}</strong>
          </mat-card-subtitle>
        </mat-card-title-group>
      </mat-card-header>
    </mat-card>
  </div>
  <table mat-table [dataSource]="dataSourceSections" class="mat-elevation-z8">
    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef>Código</th>
      <td mat-cell *matCellDef="let element"> {{element?.subject?.code}} </td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Asignatura </th>
      <td mat-cell *matCellDef="let element"> {{element?.subject?.name}} </td>
    </ng-container>

    <ng-container matColumnDef="section">
      <th mat-header-cell *matHeaderCellDef> Sección </th>
      <td mat-cell *matCellDef="let element"> {{element?.name}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsSections"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsSections;"></tr>
  </table>

  <div class="d-flex justify-content-center mt-3">
    <button mat-raised-button color="primary" [routerLink]="'/dashboard/inscription/schedule'">Ver horario inscrito</button>
  </div>

  <div class="mat-container" *ngIf="dataSource.length && showScheudules">
    <mat-card>
      <mat-card-content class="mat-card-content">
        <mat-table [dataSource]="dataSource" class="mat-table">
          <ng-container matColumnDef="hora" >
            <mat-header-cell *matHeaderCellDef >Hora/Dia</mat-header-cell>
            <mat-cell *matCellDef="let row">{{ row.hora }}</mat-cell>
          </ng-container>

          <ng-container *ngFor="let day of days" [matColumnDef]="day.name" >
            <mat-header-cell *matHeaderCellDef>{{ day.name }}</mat-header-cell>
            <mat-cell *matCellDef="let row">
              <span [ngClass]="{'c-pointer': row[day.name]?.text}" (click)="showScheduleDetails(row[day.name]?.schedules || []) ">
                {{ row[day.name]?.text || "" }}
              </span>
            </mat-cell>
          </ng-container>

          <mat-header-row
            *matHeaderRowDef="displayedColumns"
          ></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedColumns">
          </mat-row>
        </mat-table>
      </mat-card-content>
    </mat-card>
  </div>
</ng-container>


<ng-template #NoCharge>
  <div class="mat-container empty-table">
    No tiene carga para este periodo académico
  </div>
</ng-template>